Q. 동시에 같은 DB Table row 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.

A. 
해당 상황이 얼마나 자주 일어나는지에 따라 개발의 방향이 달라질 것 같습니다. 
우선 동시성 처리를 위한 방법 중 가장 잘 알려진 방법에는 비관적 락, 낙관적 락, 분산 락 등이 있습니다.
비관적 락의 경우 DB에서 하나의 트랜잭션이 특정 row에 접근 시 락을 획득하게 되어 다른 트랜잭션이 해당 row에 접근할 때 대기상태에 들어가는 것으로 동시성 처리를 관리하는 것인데요. 격리수준이 REPEATABLE READ 혹은 SEREALIZABLE인 경우에 비관적 락이 적용 가능합니다. 작업의 단위가 트랜잭션으로 묶여있으면 DB에서 롤백처리를 해주는 것만으로 트랜잭션 내 작업들이 롤백 되기 때문에 롤백을 위한 로직을 따로 구현하지 않아도 된다는 장점이 있습니다. 다만, 해당 요청이 일어나는 빈도수가 많다면 대기시간으로 인한 응답지연이 일어나거나 교착상태에 빠져 작업이 수행되지 않는 등의 문제가 있습니다. 그리고 DB서버가 여러 대일 경우 락이 서버 단위로 공유되지 않기 때문에 적합하지 않다는 단점도 있습니다. 
낙관적 락은 어플리케이션 레벨에서 관리하는 방법으로써, DB row에 version이나 date 등의 칼럼을 두고 해당 칼럼을 변경시켜 다른 트랜잭션의 수정 요청을 무효화시키는 방법입니다. 주로 JPA에서 version 어노테이션을 통해 구현이 되며 DB단에서 락을 잡고 있지 않기 때문에 대기 시간으로 인한 응답지연이 없다는 장점이 있습니다. 다만, 해당 업데이트가 수행되지 않았을 경우에 대한 로직 구현이 따로 필요하기 때문에 비관적 락에 비해 개발자가 구현해야 할 사항이 많다는 단점이 있습니다.
분산 락은 락 서버를 두고 해당 서버에서 락을 획득하여 나머지 요청에 대해서는 대기상태를 주는 방식의 동시성 제어 형태입니다. 대표적인 분산 락으로는 레디스가 있는데, 레디스의 경우 단일 쓰레드로 되어있어 작업이 순차적으로 진행됩니다. 분산 락의 경우 락 서버를 따로 두는 형태라 서버가 여러 대여도 대응할 수 있다는 장점이 있습니다.
따라서 해당 상황이 자주 발생되고 서버가 여러 대인 상황이라면 분산 락을 통해 해결할 것이고, 동시에 오는 작업 요청이 적다면 낙관적 락을 이용해 구현할 생각입니다.
